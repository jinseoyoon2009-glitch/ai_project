import streamlit as st

# ---- DATA -------------------------------------------------

DATA = {
    "INTJ": {
        "books": [
            ("총 균 쇠", "인과를 중요시하고 구조를 보고 싶어하는 INTJ 스타일과 잘 맞음"),
            ("생각의 지도", "문명/문화 관점의 프레임을 분석적으로 보는 재미가 있음"),
        ],
        "movies": [
            ("메멘토", "복잡한 구조를 쾌감으로 바꾸는 편"),
            ("인터스텔라", "추상 개념과 감정 연결을 좋아함"),
        ],
    },
    "INTP": {
        "books": [
            ("이기적 유전자", "모델로 세상을 보는 인식과 잘 맞음"),
            ("생각에 관한 생각", "휴리스틱/편향 등 개념 좋아하는 INTP와 잘 맞음"),
        ],
        "movies": [
            ("매트릭스", "기저시스템에 대한 의심과 반전"),
            ("인셉션", "현실 모델링과 메타 구조에 재미"),
        ],
    },
    "ENTJ": {
        "books": [
            ("하드씽", "리더십과 실행 전투감"),
            ("넛지", "시스템으로 행동을 바꾸는 방식과 잘 맞음"),
        ],
        "movies": [
            ("머니볼", "데이터=권력 구조의 전복"),
            ("더 빅 쇼트", "비합리 시장을 꿰뚫는 쾌감"),
        ],
    },
    "ENTP": {
        "books": [
            ("넥스트", "아이디어 스파크 계열 ENTP 취향"),
            ("블랙스완", "비정형 사건에 대한 흥미"),
        ],
        "movies": [
            ("소셜 네트워크", "허점을 기회로 바꾸는 서사"),
            ("나이브스 아웃", "말장난 같은 반전 구조"),
        ],
    },
    "INFJ": {
        "books": [
            ("죽은 시인의 사회", "이상/가치/감정의 결합"),
            ("데미안", "자기 서사 성장 이야기"),
        ],
        "movies": [
            ("이터널 선샤인", "기억-정체성 연결"),
            ("비포 선라이즈", "관계의 의미를 진하게 본다"),
        ],
    },
    "INFP": {
        "books": [
            ("아몬드", "감정의 미세결을 좋아함"),
            ("연의 편지", "관계와 애틋함이 메인 테마"),
        ],
        "movies": [
            ("월-E", "가치와 순수함 테마"),
            ("콜 미 바이 유어 네임", "감정의 깊이"),
        ],
    },
    "ENFJ": {
        "books": [
            ("어떻게 살 것인가", "삶의 방향과 가치에 관심"),
            ("말 그릇", "관계에서 언어의 힘"),
        ],
        "movies": [
            ("인사이드 아웃", "감정의 메커니즘 이해"),
            ("헌트", "신념과 정의가 충돌하는 이야기"),
        ],
    },
    "ENFP": {
        "books": [
            ("모든 것은 빛난다", "가능성/경이 인식에 잘 맞음"),
            ("생각의 탄생", "교차 영감 테마"),
        ],
        "movies": [
            ("셰프", "삶의 즐거움/새 시작"),
            ("위대한 개츠비", "이상과 낭만의 질주"),
        ],
    },

    # Sensing 유형은 압축 버전으로 채워둔다 (동일 방식)
    "ISTJ": {"books":[("원칙", "정확한 기준 좋아함"),("팩트풀니스","사실로 세계 보기")],
             "movies":[("킹스 스피치","훈련과 기준"),("어바웃 타임","가족/책임")]},
    "ISFJ": {"books":[("미움받을 용기","관계/책임"),("당신이 옳다","공감 메커니즘")],
             "movies":[("리틀 포레스트","돌봄과 회복"),("굿 윌 헌팅","관계가 사람을 바꿈")]},
    "ESTJ": {"books":[("실리콘밸리의 아이들","운영과 관리"),("초격차","실전 실행")],
             "movies":[("머니 네버 슬립스","결정과 책임"),("포드 v 페라리","프로세스 전투")]},
    "ESFJ": {"books":[("말센스","관계 운영"),("인간 본성의 법칙","사람 이해")],
             "movies":[("원더","돌봄/조화"),("히든 피겨스","공동체 성공")]},
    "ISTP": {"books":[("사물의 본성","사실/메커니즘"),("총기와 문명","도구/시스템")],
             "movies":[("존 윅","기능적 액션"),("본 아이덴티티","기술/정체성")]},
    "ISFP": {"books":[("우리가 빛의 속도로 갈 수 없다면","감성 SF"),("파친코","정체성과 생존")],
             "movies":[("HER","감정의 섬세함"),("노매드랜드","감각과 의미")]},
    "ESTP": {"books":[("부자 아빠 가난한 아빠","행동 기반"),("제로 투 원","새 판을 깜")],
             "movies":[("캐치 미 이프 유 캔","상황 장악"),("베이비 드라이버","속도/감각")]},
    "ESFP": {"books":[("트렌드 코리아","현재/환경 자극"),("인간 실험","사람 중심 재미")],
             "movies":[("라라랜드","감성/무드화"),("위크엔드 인 파리","즉흥 여행")]},
}

# ---- UI -------------------------------------------------

st.title("MBTI 추천")

opt = st.selectbox("MBTI를 선택하세요", sorted(DATA.keys()))

if opt:
    st.subheader(f"{opt} 추천")

    books = DATA[opt]["books"]
    movies = DATA[opt]["movies"]

    st.write("### 📚 책 추천")
    for title, reason in books:
        st.write(f"- **{title}** — {reason}")

    st.write("### 🎬 영화 추천")
    for title, reason in movies:
        st.write(f"- **{title}** — {reason}")
